Grafana v5.0 is going to be the biggest and most foundational release Grafana has ever had, coming with a ton of UX improvements, a new dashboard grid engine, dashboard folders, user teams and permissions. Checkout out this video preview 382 of Grafana v5 and the What’s New section in the docs 474 for an overview of new features.

    What’s new in Grafana v5.0 475
    Checkout out this video preview 382 of Grafana v5.
    Download 69

New Major Features

    Dashboards Dashboard folders, #1611 57
    Teams User groups (teams) implemented. Can be used in folder & dashboard permission list.
    Dashboard grid: Panels are now layed out in a two dimensional grid (with x, y, w, h). #9093 36.
    Templating: Vertical repeat direction for panel repeats.
    UX: Major update to page header and navigation
    Dashboard settings: Combine dashboard settings views into one with side menu, #9750 15
    Persistent dashboard url’s: New url’s for dashboards that allows renaming dashboards without breaking links. #7883 17

New Dashboard Grid

The new grid engine is a major upgrade for how you can position and move panels. It enables new layouts and a much easier dashboard building experience. The change is backward compatible. So you can upgrade your current version to 5.0 without breaking dashboards, but you cannot downgrade from 5.0 to previous versions. Grafana will automatically upgrade your dashboards to the new schema and position panels to match your existing layout. There might be minor differences in panel height. If you upgrade to 5.0 and for some reason want to rollback to the previous version you can restore dashboards to previous versions using dashboard history. But that should only be seen as an emergency solution.

Dashboard panels and rows are positioned using a gridPos object {x: 0, y: 0, w: 24, h: 5}. Units are in grid dimensions (24 columns, 1 height unit 30px). Rows and Panels objects exist (together) in a flat array directly on the dashboard root object. Rows are not needed for layouts anymore and are mainly there for backward compatibility. Some panel plugins that do not respect their panel height might require an update.
5.0.4 (2018-03-28)

    Docker Can’t start Grafana on Kubernetes 1.7.14, 1.8.9, or 1.9.4 #140 in grafana-docker repo 11 thx @suquant 2

    Dashboard Fixed bug where collapsed panels could not be directly linked to/renderer #11114 17 & #11086 11 & #11296 11

    Dashboard Provisioning dashboard with alert rules should create alerts #11247 8

    Snapshots For snapshots, the Graph panel renders the legend incorrectly on right hand side #11318 4

    Alerting Link back to Grafana returns wrong URL if root_path contains sub-path components #11403 6

    Alerting Incorrect default value for upload images setting for alert notifiers #11413 11

5.0.3 (2018-03-16)

Introduces two new configuration settings:

    database section - conn_max_lifetime
    session section - conn_max_lifetime

Sets the maximum amount of time a connection may be reused. The default is 14400 (which means 14400 seconds or 4 hours). For MySQL, this setting should be shorter than the wait_timeout 7 variable.

    Mysql: Mysql panic occurring occasionally upon Grafana dashboard access (a bigger patch than the one in 5.0.2) #11155 55

5.0.2 (2018-03-14)

    Mysql: Mysql panic occurring occasionally upon Grafana dashboard access #11155 55
    Dashboards: Should be possible to browse dashboard using only uid #11231 14
    Alerting: Fixes bug where alerts from hidden panels where deleted #11222 10
    Import: Fixes bug where dashboards with alerts couldn’t be imported #11227 5
    Teams: Remove quota restrictions from teams #11220 8
    Render: Fixes bug with legacy url redirection for panel rendering #11180 16

5.0.1 (2018-03-08)

    Postgres: PostgreSQL error when using ipv6 address as hostname in connection string #11055 4, thanks @svenklemm 3
    Dashboards: Changing templated value from dropdown is causing unsaved changes #11063 12
    Prometheus: Fixes bundled Prometheus 2.0 dashboard #11016 26, thx @roidelapluie 1
    Sidemenu: Profile menu “invisible” when gravatar is disabled #11097 5
    Dashboard: Fixes a bug with resizeable handles for panels #11103 13
    Alerting: Telegram inline image mode fails when caption too long #10975 6
    Alerting: Fixes silent failing validation #11145 5
    OAuth: Only use jwt token if it contains an email address #11127 8

5.0.0-stable (2018-03-01)
Fixes

    oauth Fix Github OAuth not working with private Organizations #11028 2 @lostick 1
    kiosk white area over bottom panels in kiosk mode #11010 13
    alerting Fix OK state doesn’t show up in Microsoft Teams #11032 9, thx @manacker

5.0.0-beta5 (2018-02-26)
Fixes

    Orgs Unable to switch org when too many orgs listed #10774 9
    Folders Make it easier/explicit to access/modify folders using the API #10630 3
    Dashboard Scrollbar works incorrectly in Grafana 5.0 Beta4 in some cases #10982 9
    ElasticSearch Custom aggregation sizes no longer allowed for Elasticsearch #10124 17
    oauth Github OAuth with allowed organizations fails to login #10964 2
    heatmap Heatmap panel has partially hidden legend #10793 2
    snapshots Expired snapshots not being cleaned up #10996

5.0.0-beta4 (2018-02-19)
Fixes

    Dashboard Fixed dashboard overwrite permission issue #10814 18
    Keyboard shortcuts Fixed Esc key when in panel edit/view mode #10945
    Save dashboard Fixed issue with time range & variable reset after saving #10946 4

5.0.0 - Beta3
Fixes

    MySQL Fixed new migration issue with index length #10931 9
    Modal Escape key no closes modals everywhere, fixes [#10887]https://github.com/grafana/grafana/issues/10887 5)
    Row repeats Fix for repeating rows issue, fixes [#10932]https://github.com/grafana/grafana/issues/10932 7)
    Docs Team api documented, fixes [#10832]https://github.com/grafana/grafana/issues/10832 6)
    Plugins Plugin info page broken, fixes [#10943]https://github.com/grafana/grafana/issues/10943 7)

5.0.0 - Beta2
Fixes

    Permissions Fixed search permissions issues #10822 5
    Permissions Fixed problem issues displaying permissions lists #10864 1
    PNG-Rendering Fixed problem rendering legend to the right #10526 5
    Reset password Fixed problem with reset password form #10870 3
    Light theme Fixed problem with light theme in safari, #10869 2
    Provisioning Now handles deletes when dashboard json files removed from disk #10865 4
    MySQL Fixed issue with schema migration on old mysql (index too long) #10779 5
    Github OAuth Fixed fetching github orgs from private github org #10823 2
    Embedding Fixed issues embedding panel #10787 8

5.0.0 - Beta1
Breaking changes

    [dashboard.json] have been replaced with dashboard provisioning 105.
    Config files for provisioning datasources as configuration have changed from /conf/datasources to /conf/provisioning/datasources.
    From /etc/grafana/datasources to /etc/grafana/provisioning/datasources when installed with deb/rpm packages.

    Pagerduty The notifier now defaults to not auto resolve incidents. More details at #10222 9

    HTTP API
        GET /api/alerts property dashboardUri renamed to url and is now the full url (that is including app sub url).

New Features

    Alerting: Add support for internal image store #6922 43, thx @FunkyM
    Data Source Proxy: Add support for whitelisting specified cookies that will be passed through to the data source when proxying data source requests #5457 1, thanks @robingustafsson
    Postgres/MySQL: add __timeGroup macro for mysql #9596 4, thanks @svenklemm 3
    Text: Text panel are now edited in the ace editor. #9698 2, thx @mtanda
    Teams: Add Microsoft Teams notifier as #8523 11, thx @anthu
    Datasources: Its now possible to configure datasources with config files #1789 14
    Graphite: Query editor updated to support new query by tag features #9230 2
    Dashboard history: New config file option versions_to_keep sets how many versions per dashboard to store, #9671 2
    Dashboard as cfg: Load dashboards from file into Grafana on startup/change #9654 14 #5269 8
    Prometheus: Grafana can now send alerts to Prometheus Alertmanager while firing #7481 14, thx @Thib17 and @mtanda
    Table: Support multiple table formated queries in table panel #9170 11, thx @davkal
    Security: Protect against brute force (frequent) login attempts #7616 3

Minor

    Graph: Don’t hide graph display options (Lines/Points) when draw mode is unchecked #9770, thx @Jonnymcc 2
    Prometheus: Show label name in paren after by/without/on/ignoring/group_left/group_right #9664 3, thx @mtanda
    Alert panel: Adds placeholder text when no alerts are within the time range #9624 1, thx @straend
    Mysql: MySQL enable MaxOpenCon and MaxIdleCon regards how constring is configured. #9784 1, thx @dfredell 1
    Cloudwatch: Fixes broken query inspector for cloudwatch #9661 2, thx @mtanda
    Dashboard: Make it possible to start dashboards from search and dashboard list panel #1871
    Annotations: Posting annotations now return the id of the annotation #9798 2
    Systemd: Use systemd notification ready flag #10024 3, thx @jgrassler
    Github: Use organizations_url provided from github to verify user belongs in org. #10111 2, thx
    @adiletmaratov
    Backend: Fixed bug where Grafana exited before all sub routines where finished #10131 1
    Azure: Adds support for Azure blob storage as external image stor #8955 1, thx @saada
    Telegram: Add support for inline image uploads to telegram notifier plugin #9967 6, thx @rburchell 1

Fixes

    Sensu: Send alert message to sensu output #9551 4, thx @cjchand 2
    Singlestat: suppress error when result contains no datapoints #9636 2, thx @utkarshcmu
    Postgres/MySQL: Control quoting in SQL-queries when using template variables #9030 5, thanks @svenklemm 3
    Pagerduty: Pagerduty dont auto resolve incidents by default anymore. #10222 9
    Cloudwatch: Fix for multi-valued templated queries. #9903 1

Deprecation notes
HTTP API

The following operations have been deprecated and will be removed in a future release:

    GET /api/dashboards/db/:slug -> Use GET /api/dashboards/uid/:uid instead
    DELETE /api/dashboards/db/:slug -> Use DELETE /api/dashboards/uid/:uid instead

The following properties have been deprecated and will be removed in a future release:

    uri property in GET /api/search -> Use new url or uid property instead
    meta.slug property in GET /api/dashboards/uid/:uid and GET /api/dashboards/db/:slug -> Use new meta.url or dashboard.uid property instead

